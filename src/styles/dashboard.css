/* src/pages/dashboard.css */
.dashboard {
  padding: 20px;
  font-family: Arial, sans-serif;
  background-color: #E2E1E2; /* Cor de fundo geral */
}

.card-container {
  display: grid;
  grid-template-columns: repeat(12, 1fr); /* 12 colunas */
  /*grid-auto-rows: 180px;     */             /* altura base de cada “faixa” */
  gap: 24px;
}

.card-container2 {
  display: grid;
  grid-template-columns: 1fr; /* Define 12 colunas no grid */
  gap: 20px;
  margin-top: auto;
}

/* Cards Gerais */
.card {
  background-color: #f9f9f9; /* Cor de fundo off-white */
  border-radius: 12px; /* Borda arredondada */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Sombras suaves */
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
}

.card h2 {
  margin-bottom: 10px;
  font-size: 20px;
  color: #333;
  font-weight: 600;
}

.card .card-content {
  font-size: 30px;
  font-weight: 700;
  color: #2c3e50;
}

.card .card-content span {
  font-size: 18px;
  font-weight: 400;
  color: #7f8c8d;
}

/* Cards específicos */
/* Esquerda: card grande (2 faixas de altura) */
.sensores-card {
  grid-column: 1 / span 7;  /* col 1–7  */
  grid-row: 1 / span 2;     /* ocupa 2 linhas */
}

/* Meio: dois cards empilhados (cada um 1 faixa) */
.ozonio-card {
  grid-column: 8 / span 3;  /* col 8–10 */
  grid-row: 1;              /* linha de cima */
}

.motores-card {
  grid-column: 8 / span 3;  /* col 8–10 */
  grid-row: 2;              /* linha de baixo */
}

.eletrica-ll-card,
.eletrica-ln-card,
.eletrica-i-card {
  grid-column: span 4; /* Ocupa 4 colunas */
  margin-top: 20px;
}

.kpi-card {
  grid-column: span 2; /* Ocupa 2 colunas */
  margin-top: 20px;
}

.motor-card {
  grid-column: span 4; /* Ocupa 4 colunas */
  margin-top: 20px; /* Adiciona um espaçamento entre o Ozônio e os Motores */
}

/* Direita: card alto (mesma altura do esquerdo) */
.timer-card {
  grid-column: 11 / span 2; /* col 11–12 */
  grid-row: 1 / span 2;     /* ocupa 2 linhas */
}


/* Responsividade - Ajustar para telas menores */
/* Responsivo: empilha tudo em 1 coluna */
@media (max-width: 900px) {
  .card-container {
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
  }
  .sensores-card, .ozonio-card, .motores-card, .timer-card {
    grid-column: 1 / -1;
    grid-row: auto;
  }
}

/* Card KPI */
.kpi-card {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 10px;
  height: 140px;                  /* ajuste se quiser */
  padding: 16px 20px;
  border-radius: 18px;            /* combine com seus Cards */
}

.kpi-title {
  font-size: 18px;
  font-weight: 600;
  text-align: center;             /* ou left, se preferir */
}

.kpi-row {
  display: flex;
  align-items: baseline;          /* valor e unidade alinhados pela base */
  justify-content: center;        /* ou flex-start */
  gap: 8px;
}

.kpi-value {
  font-size:36px;                /* destaque */
  font-weight: 600;
  line-height: 1;
}

.kpi-unit {
  font-size: 16px;
  font-weight: 500;
  opacity: 0.75;                  /* menos destaque que o valor */
}

/* Card com 3 valores (título + 3 colunas) */
.kpi3-card {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 12px;
  height: 160px;          /* ajuste se quiser */
  padding: 16px 20px;
  border-radius: 18px;
}

.kpi3-title {
  font-size: 18px;
  font-weight: 600;
  text-align: center;
}

.kpi3-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px 24px;
  align-items: end; /*       /* alinha as linhas de valor pela base */
}

.kpi3-item { text-align: center; }

.kpi3-label {
  font-size: 16px;
  font-weight: 500;
  opacity: .8;
  margin-bottom: 6px;
}

.kpi3-row {
  display: flex;
  align-items: baseline;   /* valor e unidade alinhados pela base */
  justify-content: center;
  gap: 6px;
}

.kpi3-value {
  font-size: 36px;         /* destaque */
  font-weight: 600;
  line-height: 1;
}

.kpi3-unit {
  font-size: 16px;
  font-weight: 500;
  opacity: .75;
}

/* TOPO (sensores/ozônio/motores/timer) */
/* TOPO desktop */
.top-grid{
  display:grid;
  gap:24px;
  grid-template-columns: repeat(12, 1fr);
  grid-auto-rows: 180px;

}

/* Ele elétrica (3 valores) */

/* KPIs simples (1 valor) */
.kpi1-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 24px;
  /* sem grid-auto-rows aqui */
}

/* spans de largura/altura */
.sensores-card { grid-column: 1 / span 6; grid-row: span 2; }
.ozonio-card   { grid-column: 7 / span 2; }
.motores-card  { grid-column: 7 / span 4; }
.timer-card    { grid-column: 11 / span 2; grid-row: span 2; grid-row: 1 / span 2;     /* força iniciar na linha 1 */}

.kpi3 { grid-column: span 4; }  /* LL, LN, Corrente */
.kpi1 { grid-column: span 2; }  /* Consumo, Demanda, etc. */


/* ================== BREAKPOINTS ================== */

/* ====== <=1200px: Status do ciclo ABAIXO de Sensores ====== */
@media (max-width:1200px){
  .top-grid{ 
    grid-template-columns: repeat(12, 1fr);
    grid-auto-rows: 160px;
    grid-auto-flow: dense;
  }

  /* 1) Sensores ocupa a linha toda */
  .top-grid > .sensores-card{
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
  }

  /* 2) Status do ciclo logo ABAIXO dos Sensores (linha toda) */
  .top-grid > .cycle-card{
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
  }

  /* 3) Impacto verde abaixo do Status (linha toda) */
  .top-grid > .impacto-card{
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
  }

  /* 4) Motores e Timer lado a lado (meia largura cada) */
  .top-grid > .motores-combined-card{
    grid-column: 1 / span 6 !important;
    grid-row: auto !important;
  }
  .top-grid > .timer-card{
    grid-column: 7 / span 6 !important;
    grid-row: auto !important;
  }
}

/* ====== <=900px: tudo empilhado (uma coluna) ====== */
@media (max-width:900px){
  .top-grid{
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
  }
  .top-grid > .sensores-card,
  .top-grid > .cycle-card,
  .top-grid > .impacto-card,
  .top-grid > .motores-combined-card,
  .top-grid > .timer-card{
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
  }
}

/* <=600px: tudo 1 coluna */
@media (max-width:800px){
  .kpi3-grid,.kpi1-grid{ grid-template-columns:1fr; }
  .kpi3,.kpi1{ grid-column:1 / -1; }
  .kpi3-card{ height:auto; }
  .kpi1-card{ height:auto; }
}

/* Linha com bolinha + texto */
.state-row{ display:flex; align-items:center; gap:10px; justify-content:center; }

/* Dois status lado a lado (Motores) */
.state-grid-2{ display:grid; grid-template-columns:repeat(2,1fr); gap:24px; align-items:center; }
.state-item{ text-align:center; margin-bottom: 24px; }
.state-item .state-label{ margin-bottom:8px; }
.state-label{font-size: 16px;  font-weight:500; margin-top:24px; }
/* A bolinha */
.state-dot{
  width:16px; height:16px; border-radius:999px; display:inline-block;
  box-shadow:0 0 0 2px rgba(0,0,0,.04) inset;
}

/* Cores – só na bolinha */
.state-dot.state-off{ background:#9aa1a6; }  /* cinza */
.state-dot.state-ok { background:#16a34a; }  /* verde */
.state-dot.state-err{ background:#ef4444; }  /* vermelho */

/* Cores – só no texto */
.state-text.state-off{ color:#6b7280; }
.state-text.state-ok { color:#16a34a; }
.state-text.state-err{ color:#ef4444; }

/* ====== Sensores de Níveis (3 barras) ====== */
.levels-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(160px, 1fr));
  column-gap: 40px;
  row-gap: 0;
  justify-items: center;   /* centraliza cada coluna */
  align-items: start;      /* todas começam no topo */
}

.level-item{
  display: grid;
  grid-template-rows: auto auto auto;
  row-gap: 12px;
  justify-items: center;   /* centraliza tudo dentro da coluna */
  width: 100%;
}

.level-name{
  margin: 0;
  font-weight: 600;
  min-height: 24px;        /* ajuste se seu título quebrar em 2 linhas */
  display: flex;
  align-items: center;     /* centraliza verticalmente dentro da altura mínima */
}

.level-bar{
  position: relative;
  width: 60px;
  height: 170px;
  border-radius: 16px;
  background: var(--level-bg);
  overflow: hidden;
}
.level-cap{
  text-align: center;
  min-height: 46px;        /* ajuste conforme seu conteúdo */
  display: flex;
  flex-direction: column;
  justify-content: center; /* centraliza verticalmente caso o texto ocupe 1 linha */
  line-height: 1.25;
}

/* a “coluna” de líquido */
.level-fill{
  position: absolute;
  left: 0; bottom: 0;
  width: 100%;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  z-index: 1;
  /* opcional: garante espaço mínimo p/ não sumir */
  min-height: 24px;
}

/* texto em uma camada acima */
.level-value{
  position: absolute;
  left: 0; right: 0; bottom: 6px;   /* ajusta a distância da base */
  display: flex; justify-content: center; align-items: center;
  font-weight: 600;
  color: #0b2239;
  line-height: 1;
  z-index: 2;                        /* fica na frente do fill */
  pointer-events: none;              /* evita capturar cliques */
}

/* Cores das barras */
.fill-orange{ background:#F2994A; }
.fill-blue  { background:#5B7CFA; }
.fill-green { background:#34D399; }

/* Texto da capacidade */
.level-cap{
  font-size: 14px;
  line-height: 1.25;
  color:#2c3e50;
  margin-top: 10px;
}

/* Responsivo */
@media (max-width: 700px){
  .levels-grid{ grid-template-columns: 1fr; gap: 20px; }
}

/* ===== Temas (light/dark) via data-theme ===== */
:root[data-theme="light"]{
  --bg: #f4f5f7;
  --text: #0b2239;
  --muted: #6b7280;
  --card-bg: #f9f9f9;
  --card-border: rgba(0,0,0,.06);
  --shadow: 0 4px 12px rgba(0,0,0,.08);
}

:root[data-theme="dark"]{
  --bg: #0f172a;            /* slate-900 */
  --text: #e5e7eb;          /* gray-200 */
  --muted: #94a3b8;         /* slate-400 */
  --card-bg: #111827;       /* gray-900 */
  --card-border: rgba(255,255,255,.08);
  --shadow: 0 6px 16px rgba(0,0,0,.55);
}

/* ===== Header ===== */
.dashboard-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin-bottom:16px;
}

.dashboard-title{
  margin:0;
  font-size:28px;
  font-weight:700;
  color: var(--text);
}

/* Botão no canto direito */
.theme-toggle{
  border:1px solid var(--card-border);
  background: var(--card-bg);
  color: var(--text);
  border-radius: 10px;
  padding: 8px 12px;
  cursor:pointer;
  line-height:1;
  box-shadow: var(--shadow);
}
.theme-toggle:hover{ filter: brightness(0.97); }

/* ===== Ajuste do tema nos elementos existentes ===== */
.dashboard{
  padding:20px;
  font-family: Arial, sans-serif;
  background: var(--bg);            /* antes: #636363 */
  min-height: 100vh;
}

.card{
  background: var(--card-bg);       /* antes: #f9f9f9 */
  border-radius:12px;
  box-shadow: var(--shadow);
  padding:20px;
  display:flex; flex-direction:column; justify-content:center; text-align:center;
  color: var(--text);
}

.card h2{ color: var(--text); }

/* textos secundários */
.kpi-unit, .kpi3-label, .level-cap, .state-label, .state-text.state-off{
  color: var(--muted);
}

:root[data-theme="light"]{
  /* ...suas outras vars... */
  --level-bg: #ddd;          /* fundo claro no tema claro */
}

:root[data-theme="dark"]{
  /* ...suas outras vars... */
  --level-bg: #1f2937;       /* fundo escuro no tema escuro (slate-800) */
}


/* mantenha o resto do seu CSS (grids, kpIs etc.) */


/* ===== Timer Circular ===== */
.timer-wrap {
  display:flex; flex-direction:column; align-items:center; gap:12px;
}
.timer-ring {
  width: 220px; height: 220px; position: relative;
}
.timer-ring svg { width:100%; height:100%; transform: rotate(-90deg); }
.timer-bg   { stroke: #d6d6d6; opacity: .9; }
.timer-fg   { stroke: #5B7CFA; transition: stroke-dashoffset .4s linear; }
.timer-center {
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  font-weight:800; font-size:46px; color: var(--text);
}
.timer-label { color: var(--text); opacity:.85; }

/* Header com título + botões (80px do topo) */
.dashboard-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin-top:20px;
}

.header-actions{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}

.dashboard-title{
  margin:0;
  font-size:28px;
  font-weight:700;
  color: var(--text);
}

/* Botões base */
.btn{
  border-radius:12px;
  padding:10px 18px;
  font-weight:700;
  cursor:pointer;
  line-height:1;
  transition: transform .05s ease, filter .15s ease, box-shadow .15s ease;
  box-shadow: 0 8px 18px rgba(0,0,0,.12);
  border:1px solid transparent;
}
.btn:active{ transform: translateY(1px); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Parar (vermelho) */
.btn-stop{
  background:#ef4444;
  color:#fff;
  border-color: rgba(0,0,0,.06);
}
.btn-stop:hover{ filter:brightness(.95); }

/* Reset (azul contornado) */
.btn-reset{
  background: transparent;
  color:#5B7CFA;
  border-color:#5B7CFA;
  box-shadow: 0 8px 18px rgba(91,124,250,.18);
}
.btn-reset:hover{ filter:brightness(1.05); }

/* Botão tema (se já existir no seu CSS, pode manter o seu) */
.theme-toggle{
  border:1px solid var(--card-border);
  background: var(--card-bg);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 14px;
  cursor:pointer;
  line-height:1;
  box-shadow: var(--shadow);
}
.theme-toggle:hover{ filter: brightness(0.97); }

@media (max-width: 600px){
  .dashboard-header{ margin-top:40px; }
}

/* ---- spans/larguras na grade (mantém seu grid de 12 colunas) ---- */
.motores-combined-card { grid-column: span 4; } /* igual aos kpi3 */
.cycle-card, .impacto-card { grid-column: span 2; } /* igual aos kpi1 */

/* ---- card Motores (3 colunas internas) ---- */
.motores-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  align-items: center;
  justify-items: center;
}

.motor-item { text-align: center; }
.motor-item .motor-title { font-weight: 600; margin-bottom: 8px; margin-top: 10px; }

/* aproveita seus estilos de dot/texto */
.state-row{ display:flex; align-items:center; gap:10px; justify-content:center; }
.state-dot{
  width:16px; height:16px; border-radius:999px; display:inline-block;
  box-shadow:0 0 0 2px rgba(0,0,0,.04) inset;
}
.state-dot.state-off{ background:#9aa1a6; }   /* cinza */
.state-dot.state-ok { background:#16a34a; }   /* verde */
.state-dot.state-err{ background:#ef4444; }   /* vermelho */
.state-dot.state-info{ background:#5B7CFA; }  /* azul para "finalizado" opcional */

.state-text{ font-weight:500; }
.state-text.state-off{ color:#6b7280; }
.state-text.state-ok { color:#16a34a; }
.state-text.state-err{ color:#ef4444; }
.state-text.state-info{ color:#5B7CFA; }

/* ---- Status do ciclo / Impacto verde ---- */
.card--green {
  background: rgba(34,197,94,.12); /* verdinho suave */
  border: 1px solid rgba(34,197,94,.25);
}
.cycle-status-wrap{
  display:flex; align-items:center; gap:12px; justify-content:flex-start;
}

/* Título centralizado e espaçamento */
.cycle-card h2{
  text-align:center;
  margin-bottom:12px;
}

/* Linha da bolinha + texto: centralizada */
.cycle-card .cycle-status-wrap{
  display:flex;
  align-items:center;      /* alinha verticalmente dot e texto */
  justify-content:center;  /* centraliza no card */
  gap:12px;                /* espaço entre bolinha e texto */
}

/* Garantia de tamanho/alinhamento do dot */
.cycle-card .state-dot{
  width:16px; height:16px; border-radius:999px; display:inline-block;
}

/* ===== Impacto verde ===== */
.impacto-card { padding-top: 18px; padding-bottom: 18px; }

/* lista */
.impacto-list{ display:flex; flex-direction:column; gap:14px; }

/* item */
.impact-item{ display:flex; align-items:center; justify-content:space-between; gap:14px; }
.impact-left{ display:flex; align-items:center; gap:12px; }

/* ícone (pode trocar por SVG depois) */
.ic-circle{
  width:18px; height:18px; border-radius:999px; background:#22c55e; /* verde */
  display:inline-block; flex:0 0 18px;
}

/* texto principal */
.impact-text{ color: var(--text); font-weight:500; }

/* botão info + tooltip */
.info-btn{
  position:relative;
  width:20px;height:20px;border-radius:999px;
  background:transparent;border:2px solid rgba(0,0,0,.35);
  display:flex;align-items:center;justify-content:center;
  font-weight:500;line-height:1;cursor:default;color:var(--text);
}

/* estilo comum do balão */
.info-btn[data-tip]::after{
  content: attr(data-tip);
  position:absolute;
  background: var(--card-bg);
  color: var(--text);
  border:1px solid var(--card-border);
  border-radius:8px;
  padding:8px 10px;
  font-size:12px; font-weight:400; line-height:1.3;
  white-space: normal;
  max-width: clamp(160px, 60vw, 260px);
  box-shadow: var(--shadow);
  z-index: 20;
  opacity:0; pointer-events:none; transform: translateY(4px);
  transition: opacity .12s ease, transform .12s ease;
}
.info-btn[data-tip]::before{
  content:""; position:absolute; width:0; height:0; z-index:21;
  border:6px solid transparent;
  opacity:0; transition: opacity .12s ease;
}

/* aparece no hover/focus */
.info-btn:hover::after, .info-btn:hover::before,
.info-btn:focus-visible::after, .info-btn:focus-visible::before{
  opacity:1;
}

/* ----- posições ----- */
/* direita */
.info-btn[data-pos="right"]::after{
  top:50%; left: calc(100% + 12px); transform: translateY(-50%);
}
.info-btn[data-pos="right"]::before{
  top:50%; left:100%; transform: translateY(-50%);
  border-right-color: var(--card-border);
}

/* esquerda */
.info-btn[data-pos="left"]::after{
  top:50%; right: calc(100% + 12px); transform: translateY(-50%);
}
.info-btn[data-pos="left"]::before{
  top:50%; right:100%; transform: translateY(-50%);
  border-left-color: var(--card-border);
}

/* topo (se quiser usar) */
.info-btn[data-pos="top"]::after{
  bottom: calc(100% + 10px); left:50%; transform: translate(-50%, 0);
  text-align:center;
}
.info-btn[data-pos="top"]::before{
  bottom:100%; left:50%; transform: translateX(-50%);
  border-bottom-color: var(--card-border);
}

/* bottom (mobile) */
.info-btn[data-pos="bottom"]::after{
  top: calc(100% + 10px); left:50%; transform: translate(-50%, 0);
  text-align:center;
}
.info-btn[data-pos="bottom"]::before{
  top:100%; left:50%; transform: translateX(-50%);
  border-top-color: var(--card-border);
}

/* garante bottom em telas estreitas mesmo sem JS */
@media (max-width: 640px){
  .info-btn[data-tip]::after{ left:50%!important; right:auto!important; }
  .info-btn{ --fallback-pos: bottom; }
}




